---
id: update-adldap
title: "Update AD/LDAP"
description: "Update an AD/LDAP domain"
sidebar_label: "Update AD/LDAP"
hide_title: true
hide_table_of_contents: true
api: {"operationId":"UpdateADLDAP","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"properties":{"errorCode":{"format":"int32","type":"integer"},"errorMessage":{"nullable":true,"type":"string"}},"type":"object"}}}},"400":{"description":"Request body is empty or format is invalid."}},"description":"Update an AD/LDAP domain","requestBody":{"content":{"application/json":{"schema":{"description":"Update the properties of an AD/LDAP","properties":{"LDAPQueryParameters":{"description":"List of overridden query parameters for the LDAP domain. Valid only if the directory type is LDAP_SERVER","items":{"description":"Attribute of an LDAP server","properties":{"defaultValue":{"description":"Default value of the attribute","type":"string"},"id":{"description":"ID of the attribute","format":"int32","type":"integer"},"isOverridden":{"description":"Denotes if the value of the attribute is overridden","type":"boolean"},"name":{"description":"Name of the attribute","type":"string"},"value":{"description":"Current value of the attribute","type":"string"}},"required":["id","value"],"type":"object"},"type":"array","uniqueItems":true},"NETBIOSName":{"description":"The fully qualified domain name that you use to identify this network resource. Required only if directoryType is ACTIVE_DIRECTORY, OPEN_LDAP or ORACLE_DIRECTORY ","type":"string"},"OSXServerName":{"description":"The fully qualified domain name that you use to identify this network resource. Required only if directoryType is APPLE_DIRECTORY_SERVICE","type":"string"},"accessViaClient":{"description":"Denotes if the domain is to be accessed via a proxy","type":"boolean"},"attributeMap":{"description":"List of overridden attribute mappings for the LDAP domain. Valid only if the directoryType is LDAP_SERVER.","items":{"description":"Attribute of an LDAP server","properties":{"defaultValue":{"description":"Default value of the attribute","type":"string"},"id":{"description":"ID of the attribute","format":"int32","type":"integer"},"isOverridden":{"description":"Denotes if the value of the attribute is overridden","type":"boolean"},"name":{"description":"Name of the attribute","type":"string"},"value":{"description":"Current value of the attribute","type":"string"}},"required":["id","value"],"type":"object"},"type":"array","uniqueItems":true},"baseDNForCardUsers":{"description":"Base DN for card users","type":"string"},"directoryType":{"description":"Directory type of an AD/LDAP domain","enum":["ACTIVE_DIRECTORY","APPLE_DIRECTORY_SERVICE","LDAP_SERVER","OPEN_LDAP","ORACLE_DIRECTORY"],"type":"string"},"enableSSO":{"description":"Denotes if SSO should be enabled for the domain. Valid only for ACTIVE_DIRECTORY.","type":"boolean"},"host":{"description":"The fully qualified domain name that you use to identify this network resource. Required only if directoryType is LDAP_SERVER","type":"string"},"name":{"description":"The fully qualified domain name, for example, my.domain.example.com","type":"string"},"password":{"description":"Password for the domain user. Should be in Base64 encoded format.","type":"string"},"proxies":{"description":"List of proxies used to connect to the domain. Available only if accessViaClient is true.","items":{"properties":{"id":{"format":"int32","type":"integer","x-terraform-omitempty":true,"x-terraform-set-key":true},"name":{"nullable":true,"type":"string"}},"type":"object"},"type":"array"},"useSecureLDAP":{"description":"Boolean to indicate if the app use secure LDAP. Valid only for directory types - ACTIVE_DIRECTORY, ORACLE_DIRECTORY and LDAP_SERVER.","type":"boolean"},"username":{"description":"The username for a user who has at least read permission for the domain","type":"string"}},"required":["directoryType","name"],"type":"object"},"examples":{"Active Directory":{"value":{"directoryType":"ACTIVE_DIRECTORY","NETBIOSName":"domain","name":"domain.com","username":"username","password":"cGFzc3dvcmQ=","baseDNForCardUsers":"CN=Name,OU=Sales,OU=Employees,DC=dn,DC=domain,DC=com","useSecureLDAP":true,"enableSSO":true,"accessViaClient":true,"proxies":[{"id":1,"name":"client1"}]}},"Apple Directory Service":{"value":{"directoryType":"APPLE_DIRECTORY_SERVICE","OSXServerName":"domain","name":"domain.com","username":"username","password":"cGFzc3dvcmQ=","accessViaClient":false}},"LDAP Server":{"value":{"directoryType":"LDAP_SERVER","host":"domain","name":"domain.com","username":"username","password":"cGFzc3dvcmQ=","accessViaClient":true,"proxies":[{"id":1,"name":"client"}],"LDAPQueryParameters":[{"id":6,"name":"User group filter","value":"(objectClass=groupofnames)"},{"id":7,"name":"User filter","value":"(objectClass=posixaccount)"},{"id":9,"name":"Unique identifier","value":"sAMAccountName"},{"id":10,"name":"base DN","value":"cn=accounts,dc=domain,dc=com"}],"attributeMap":[{"id":2,"name":"Common name","value":"common name"}]}},"Open LDAP":{"value":{"directoryType":"OPEN_LDAP","NETBIOSName":"domain","name":"domain.com","username":"cn=user,dc=domain,dc=com","password":"cGFzc3dvcmQ=","accessViaClient":false}},"Oracle Directory":{"value":{"directoryType":"ORACLE_DIRECTORY","NETBIOSName":"ods","name":"ods.domain.com","username":"cn=user,dc=example,dc=com","password":"cGFzc3dvcmQ=","accessViaClient":false}}}}},"description":"Properties of the domain to be updated"},"tags":["IdentityServers"],"parameters":[{"schema":{"type":"integer","format":"int32"},"name":"domainId","in":"path","required":true,"description":"ID of the AD/LDAP domain"}],"method":"put","path":"/V4/LDAP/{domainId}","servers":[{"url":"http://{hostname}/webconsole/api","variables":{"hostname":{"default":"localhost","description":"Webconsole"}}}],"securitySchemes":{"token":{"in":"header","name":"Authtoken","type":"apiKey"}},"jsonRequestBodyExample":{"LDAPQueryParameters":[{"defaultValue":"string","id":0,"isOverridden":true,"name":"string","value":"string"}],"NETBIOSName":"string","OSXServerName":"string","accessViaClient":true,"attributeMap":[{"defaultValue":"string","id":0,"isOverridden":true,"name":"string","value":"string"}],"baseDNForCardUsers":"string","directoryType":"ACTIVE_DIRECTORY","enableSSO":true,"host":"string","name":"string","password":"string","proxies":[{"id":0,"name":"string"}],"useSecureLDAP":true,"username":"string"},"info":{"version":"1.0.0","contact":{},"description":"## Welcome\n\nWelcome to Commvault's Rest APIs. You can explore our APIs in [Postman](https://getpostman.com) using the predefined requests we created\n\nThe current version of this documentation is **Commvault Platform Release 2022E**.\n\nYou can access LTS documentation here:\n\n[Feature Release 11.20](https://documenter.getpostman.com/view/2046098/UVR7KoPJ)\n\n[Feature Release 11.24](https://documenter.getpostman.com/view/2046098/UVR7KoPL)\n\nFor more V2 and Latest APIs, please visit your API Explorer page.  \n[*More Details*](http://documentation.commvault.com/commvault/v11/article?p=107350_1.htm)\n\n## Setup\n\nTo get started, [create an environment in Postman](https://www.getpostman.com/docs/environments), select that environment, and set your environment variables by entering necessary values in the `0 - Setup/Environment Setup` pre-request script ([documentation on pre-request scripts](http://www.getpostman.com/docs/pre_request_scripts)). Also, Some of our calls might have dependencies. `GET`/`PUT`/`DELETE` may only work after an item is created with a `POST`.\n\nThe same set of APIs can be used for both XML and JSON. If you want to get equivalent JSON for the XML, use our [API](https://api.commvault.com/#fe2fa795-dd7c-4416-857d-75704b52be8c) for conversion.\n\n**Note:** Swagger Documentation for V2/Latest APIs are present in the following URL:  \n`{ServerURL}/sandbox/apiexplorer`\n\n[*More Details*](http://documentation.commvault.com/commvault/v11/article?p=45551.htm)","title":"Commvault Rest API - Public"},"postman":{"name":"Update AD/LDAP","description":{"content":"Update an AD/LDAP domain","type":"text/plain"},"url":{"path":["V4","LDAP",":domainId"],"host":["{{baseUrl}}"],"query":[],"variable":[{"disabled":false,"description":{"content":"(Required) ID of the AD/LDAP domain","type":"text/plain"},"type":"any","value":"","key":"domainId"}]},"header":[{"key":"Content-Type","value":"application/json"},{"key":"Accept","value":"application/json"}],"method":"PUT","body":{"mode":"raw","raw":"\"\"","options":{"raw":{"language":"json"}}}}}
sidebar_class_name: "put api-method"
info_path: docs/api/cv/zAllV4APIs/commvault-rest-api-public
custom_edit_url: null
---

import ApiTabs from "@theme/ApiTabs";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import TabItem from "@theme/TabItem";

## Update AD/LDAP



Update an AD/LDAP domain

<details style={{"marginBottom":"1rem"}} data-collapsed={false} open={true}><summary style={{}}><strong>Path Parameters</strong></summary><div><ul><ParamsItem className={"paramsItem"} param={{"schema":{"type":"integer","format":"int32"},"name":"domainId","in":"path","required":true,"description":"ID of the AD/LDAP domain"}}></ParamsItem></ul></div></details><MimeTabs><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Request Body</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}><div style={{"marginTop":"1rem","marginBottom":"1rem"}}>

Properties of the domain to be updated

</div></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>LDAPQueryParameters</strong><span style={{"opacity":"0.6"}}> object[]</span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

List of overridden query parameters for the LDAP domain. Valid only if the directory type is LDAP_SERVER

</div><SchemaItem collapsible={false} name={"defaultValue"} required={false} deprecated={undefined} schemaDescription={"Default value of the attribute"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"id"} required={true} deprecated={undefined} schemaDescription={"ID of the attribute"} schemaName={"int32"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"isOverridden"} required={false} deprecated={undefined} schemaDescription={"Denotes if the value of the attribute is overridden"} schemaName={"boolean"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"name"} required={false} deprecated={undefined} schemaDescription={"Name of the attribute"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"value"} required={true} deprecated={undefined} schemaDescription={"Current value of the attribute"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"NETBIOSName"} required={false} deprecated={undefined} schemaDescription={"The fully qualified domain name that you use to identify this network resource. Required only if directoryType is ACTIVE_DIRECTORY, OPEN_LDAP or ORACLE_DIRECTORY "} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"OSXServerName"} required={false} deprecated={undefined} schemaDescription={"The fully qualified domain name that you use to identify this network resource. Required only if directoryType is APPLE_DIRECTORY_SERVICE"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"accessViaClient"} required={false} deprecated={undefined} schemaDescription={"Denotes if the domain is to be accessed via a proxy"} schemaName={"boolean"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>attributeMap</strong><span style={{"opacity":"0.6"}}> object[]</span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

List of overridden attribute mappings for the LDAP domain. Valid only if the directoryType is LDAP_SERVER.

</div><SchemaItem collapsible={false} name={"defaultValue"} required={false} deprecated={undefined} schemaDescription={"Default value of the attribute"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"id"} required={true} deprecated={undefined} schemaDescription={"ID of the attribute"} schemaName={"int32"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"isOverridden"} required={false} deprecated={undefined} schemaDescription={"Denotes if the value of the attribute is overridden"} schemaName={"boolean"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"name"} required={false} deprecated={undefined} schemaDescription={"Name of the attribute"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"value"} required={true} deprecated={undefined} schemaDescription={"Current value of the attribute"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"baseDNForCardUsers"} required={false} deprecated={undefined} schemaDescription={"Base DN for card users"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"directoryType"} required={true} deprecated={undefined} schemaDescription={"Directory type of an AD/LDAP domain"} schemaName={"string"} qualifierMessage={"**Possible values:** [`ACTIVE_DIRECTORY`, `APPLE_DIRECTORY_SERVICE`, `LDAP_SERVER`, `OPEN_LDAP`, `ORACLE_DIRECTORY`]"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"enableSSO"} required={false} deprecated={undefined} schemaDescription={"Denotes if SSO should be enabled for the domain. Valid only for ACTIVE_DIRECTORY."} schemaName={"boolean"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"host"} required={false} deprecated={undefined} schemaDescription={"The fully qualified domain name that you use to identify this network resource. Required only if directoryType is LDAP_SERVER"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"name"} required={true} deprecated={undefined} schemaDescription={"The fully qualified domain name, for example, my.domain.example.com"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"password"} required={false} deprecated={undefined} schemaDescription={"Password for the domain user. Should be in Base64 encoded format."} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>proxies</strong><span style={{"opacity":"0.6"}}> object[]</span></summary><div style={{"marginLeft":"1rem"}}><div style={{"marginTop":".5rem","marginBottom":".5rem"}}>

List of proxies used to connect to the domain. Available only if accessViaClient is true.

</div><SchemaItem collapsible={false} name={"id"} required={false} deprecated={undefined} schemaDescription={undefined} schemaName={"int32"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"name"} required={false} deprecated={undefined} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"useSecureLDAP"} required={false} deprecated={undefined} schemaDescription={"Boolean to indicate if the app use secure LDAP. Valid only for directory types - ACTIVE_DIRECTORY, ORACLE_DIRECTORY and LDAP_SERVER."} schemaName={"boolean"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"username"} required={false} deprecated={undefined} schemaDescription={"The username for a user who has at least read permission for the domain"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></ul></details></TabItem></MimeTabs><div><ApiTabs><TabItem label={"200"} value={"200"}><div>

OK

</div><div><MimeTabs schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs><TabItem label={"Schema"} value={"Schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"errorCode"} required={false} deprecated={undefined} schemaDescription={undefined} schemaName={"int32"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"errorMessage"} required={false} deprecated={undefined} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"errorCode\": 0,\n  \"errorMessage\": \"string\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"400"} value={"400"}><div>

Request body is empty or format is invalid.

</div><div></div></TabItem></ApiTabs></div>
      