---
id: create-user
title: "Create User"
description: "This API can be used by MSP Partners to provision a new user in Metallic. Each user has roles assigned and can manage different accounts."
sidebar_label: "Create User"
hide_title: true
hide_table_of_contents: true
api: {"tags":["Users"],"description":"This API can be used by MSP Partners to provision a new user in Metallic. Each user has roles assigned and can manage different accounts.\n\nUser creation is asynchronous. Upon request submission, user record will be in \"provisioning\" status and will become \"active\" when creation process finishes.\n\n#### Request Body\n\n| **Field** | **Description** | **Type** | **Required** | **Notes** |\n| --- | --- | --- | --- | --- |\n| email | Contact email | String | True | Needs to be unique in metallic. |\n| firstName | Contact firstname | String | True |  |\n| lastname | Contact lastname | String | True |  |\n| roles | List of user role Ids | String Array | True | See - Available Roles |\n| managedAccounts | List of user managed  account metallic Ids | UUID Array | False | User cannot manage accounts without Service Administrator  role or Account Manager role. Value \"\\*\" means user will manage all existing and future accounts under this MSP Partner. |\n\n#### Response Body\n\n| **Field** | **Description** | **Type** | **Notes** |\n| --- | --- | --- | --- |\n| id | User metallic id | UUID |  |\n| status | User status | String Enumeration - User Status Enumeration | Refer to User Status Enumeration. Value \"provisioning\" is returned in this case. |\n| insertTs | User created time | Timestamp |  |\n| updateTs | User last updated time | Timestamp |  |\n| requestData | Create User Request Body | Create User - Request Body | See - Create User - Request Body |","operationId":"CreateUser","parameters":[],"requestBody":{"description":"","content":{"application/json":{"schema":{"allOf":[{"title":"CreateUserRequest","type":"object","example":{"firstName":"{{first_name}}","lastName":"{{last_name}}","email":"{{user_email}}","roles":["{{role}}"]},"properties":{"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"roles":{"type":"array","items":{"type":"string"}},"managedAccounts":{"type":"array","items":{"type":"string"}}},"required":["firstName","lastName","email","roles"]},{"example":{"firstName":"{{first_name}}","lastName":"{{last_name}}","email":"{{user_email}}","roles":["{{role}}"]}}]},"example":{"firstName":"{{first_name}}","lastName":"{{last_name}}","email":"{{user_email}}","roles":["{{role}}"]},"examples":{"Create User - Success - Service Admin":{"value":{"firstName":"Sam","lastName":"Smith","email":"sam@abcinc.com","roles":["ROLE_MSP_ADMIN"]}},"Create User - Success - Account Manager Managing All Accounts":{"value":{"firstName":"Sam","lastName":"Smith","email":"sam@abcinc.com","roles":["ROLE_ACCOUNT_MANAGER"],"managedAccounts":["*"]}},"Create User - Success - Account Manager Managing Certain Accounts":{"value":{"firstName":"Sam","lastName":"Smith","email":"sam@abcinc.com","roles":["ROLE_ACCOUNT_MANAGER"],"managedAccounts":["20c950e3-a368-44f9-ac9b-9a558460ad53","6fee40b4-b583-456e-ac16-3a53fd244360"]}}}}},"required":true},"responses":{"201":{"description":"Created","content":{"application/json":{"schema":{"allOf":[{"title":"CreateUser-Success-ServiceAdmin","required":["data"],"type":"object","properties":{"data":{"title":"Data20","required":["id","insertTs","updateTs","status","requestData"],"type":"object","properties":{"id":{"type":"string"},"insertTs":{"type":"string"},"updateTs":{"type":"string"},"status":{"type":"string"},"requestData":{"title":"RequestData5","type":"object","example":{"firstName":"Sam","lastName":"Smith","email":"sam@abcinc.com","roles":["ROLE_MSP_ADMIN"]},"properties":{"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"roles":{"type":"array","items":{"type":"string"}},"managedAccounts":{"type":"array","items":{"type":"string"}}},"required":["firstName","lastName","email","roles"]}},"example":{"id":"583E575B-4657-40A4-B63A-9F85E3AFCC58","insertTs":"2022-01-14T23:48:40","updateTs":"2022-01-14T23:48:40","status":"provisioning","requestData":{"firstName":"Sam","lastName":"Smith","email":"sam@abcinc.com","roles":["ROLE_MSP_ADMIN"]}}}},"example":{"data":{"id":"583E575B-4657-40A4-B63A-9F85E3AFCC58","insertTs":"2022-01-14T23:48:40","updateTs":"2022-01-14T23:48:40","status":"provisioning","requestData":{"firstName":"Sam","lastName":"Smith","email":"sam@abcinc.com","roles":["ROLE_MSP_ADMIN"]}}}},{"example":{"data":{"id":"583E575B-4657-40A4-B63A-9F85E3AFCC58","insertTs":"2022-01-14T23:48:40","updateTs":"2022-01-14T23:48:40","status":"provisioning","requestData":{"firstName":"Sam","lastName":"Smith","email":"sam@abcinc.com","roles":["ROLE_MSP_ADMIN"]}}}}]},"example":{"data":{"id":"583E575B-4657-40A4-B63A-9F85E3AFCC58","insertTs":"2022-01-14T23:48:40","updateTs":"2022-01-14T23:48:40","status":"provisioning","requestData":{"firstName":"Sam","lastName":"Smith","email":"sam@abcinc.com","roles":["ROLE_MSP_ADMIN"]}}},"examples":{"Create User - Success - Account Manager Managing All Accounts":{"value":{"data":{"id":"583E575B-4657-40A4-B63A-9F85E3AFCC58","insertTs":"2022-01-14T23:48:40","updateTs":"2022-01-14T23:48:40","status":"provisioning","requestData":{"firstName":"Sam","lastName":"Smith","email":"sam@abcinc.com","roles":["ROLE_ACCOUNT_MANAGER"],"managedAccounts":["*"]}}}}}}}}},"deprecated":false,"method":"post","path":"/partner/users","servers":[{"url":"https://api.metallic.io/api/v1","variables":{}}],"security":[{"bearer":[]}],"securitySchemes":{"bearer":{"type":"http","scheme":"bearer"}},"jsonRequestBodyExample":{"firstName":"{{first_name}}","lastName":"{{last_name}}","email":"{{user_email}}","roles":["{{role}}"]},"info":{"title":"Metallic REST API Reference","description":"This API documentation covers all the APIs exposed by metallic for all the partner customers as well as standalone customers.\n\n> Invoke Authentication - `/api/v1/authenticate` API using `username` and `password` provided by metallic to obtain `authToken`. All subsequent requests should pass `authToken` obtained as `Bearer token` as part of `Authorization` header.\n\n> Contact Metallic Customer support for any further assistance.\n\n## HTTP Codes\n\nFollowing are the generic HTTP codes returned by APIs. These HTTP codes are not documented again at each API level to improve the overall documentation readability.\n\n| **HTTP Error Code** | **Description** |\n| --- | --- |\n| 200 | OK - Success |\n| 201 | Created - Record created successfully |\n| 204 | Success No Content -Usually returned for DELETE operation response. |\n| 400 | Bad Request - Correct the request and resubmit. |\n| 401 | Unauthorized - Authentication Failed. User credentials are incorrect or authToken is incorrect/expired. |\n| 403 | Forbidden - Logged in user does not have permission to requested API. |\n| 404 | Not Found - No records found matching the request. |\n| 409 | Conflict - In case of business errors where resource can not be created/updated due to conflict. |\n| 429 | Too Many Requests - API invocation quota exceeded. |\n| 500 | Internal Server Error - Unexpected error from server. Something went wrong on server. |","contact":{},"version":"1.0"},"postman":{"name":"Create User","description":{"content":"This API can be used by MSP Partners to provision a new user in Metallic. Each user has roles assigned and can manage different accounts.\n\nUser creation is asynchronous. Upon request submission, user record will be in \"provisioning\" status and will become \"active\" when creation process finishes.\n\n#### Request Body\n\n| **Field** | **Description** | **Type** | **Required** | **Notes** |\n| --- | --- | --- | --- | --- |\n| email | Contact email | String | True | Needs to be unique in metallic. |\n| firstName | Contact firstname | String | True |  |\n| lastname | Contact lastname | String | True |  |\n| roles | List of user role Ids | String Array | True | See - Available Roles |\n| managedAccounts | List of user managed  account metallic Ids | UUID Array | False | User cannot manage accounts without Service Administrator  role or Account Manager role. Value \"\\*\" means user will manage all existing and future accounts under this MSP Partner. |\n\n#### Response Body\n\n| **Field** | **Description** | **Type** | **Notes** |\n| --- | --- | --- | --- |\n| id | User metallic id | UUID |  |\n| status | User status | String Enumeration - User Status Enumeration | Refer to User Status Enumeration. Value \"provisioning\" is returned in this case. |\n| insertTs | User created time | Timestamp |  |\n| updateTs | User last updated time | Timestamp |  |\n| requestData | Create User Request Body | Create User - Request Body | See - Create User - Request Body |","type":"text/plain"},"url":{"path":["partner","users"],"host":["{{baseUrl}}"],"query":[],"variable":[]},"header":[{"key":"Content-Type","value":"application/json"},{"key":"Accept","value":"application/json"}],"method":"POST","body":{"mode":"raw","raw":"\"\"","options":{"raw":{"language":"json"}}}}}
sidebar_class_name: "post api-method"
info_path: docs/api/cv2/Metallic/metallic-rest-api-reference
custom_edit_url: null
---

import ApiTabs from "@theme/ApiTabs";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import TabItem from "@theme/TabItem";

## Create User



This API can be used by MSP Partners to provision a new user in Metallic. Each user has roles assigned and can manage different accounts.

User creation is asynchronous. Upon request submission, user record will be in "provisioning" status and will become "active" when creation process finishes.

#### Request Body

| **Field** | **Description** | **Type** | **Required** | **Notes** |
| --- | --- | --- | --- | --- |
| email | Contact email | String | True | Needs to be unique in metallic. |
| firstName | Contact firstname | String | True |  |
| lastname | Contact lastname | String | True |  |
| roles | List of user role Ids | String Array | True | See - Available Roles |
| managedAccounts | List of user managed  account metallic Ids | UUID Array | False | User cannot manage accounts without Service Administrator  role or Account Manager role. Value "\*" means user will manage all existing and future accounts under this MSP Partner. |

#### Response Body

| **Field** | **Description** | **Type** | **Notes** |
| --- | --- | --- | --- |
| id | User metallic id | UUID |  |
| status | User status | String Enumeration - User Status Enumeration | Refer to User Status Enumeration. Value "provisioning" is returned in this case. |
| insertTs | User created time | Timestamp |  |
| updateTs | User last updated time | Timestamp |  |
| requestData | Create User Request Body | Create User - Request Body | See - Create User - Request Body |

<MimeTabs><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Request Body</strong><strong style={{"fontSize":"var(--ifm-code-font-size)","color":"var(--openapi-required)"}}> required</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"firstName"} required={true} deprecated={undefined} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"lastName"} required={true} deprecated={undefined} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"email"} required={true} deprecated={undefined} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"roles"} required={true} deprecated={undefined} schemaDescription={undefined} schemaName={"string[]"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"managedAccounts"} required={false} deprecated={undefined} schemaDescription={undefined} schemaName={"string[]"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></ul></details></TabItem></MimeTabs><div><ApiTabs><TabItem label={"201"} value={"201"}><div>

Created

</div><div><MimeTabs schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs><TabItem label={"Schema"} value={"Schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>data</strong><span style={{"opacity":"0.6"}}> object</span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"id"} required={false} deprecated={undefined} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"insertTs"} required={false} deprecated={undefined} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"updateTs"} required={false} deprecated={undefined} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"status"} required={false} deprecated={undefined} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>requestData</strong><span style={{"opacity":"0.6"}}> object</span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"firstName"} required={false} deprecated={undefined} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"lastName"} required={false} deprecated={undefined} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"email"} required={false} deprecated={undefined} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"roles"} required={false} deprecated={undefined} schemaDescription={undefined} schemaName={"string[]"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"managedAccounts"} required={false} deprecated={undefined} schemaDescription={undefined} schemaName={"string[]"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"data\": {\n    \"id\": \"583E575B-4657-40A4-B63A-9F85E3AFCC58\",\n    \"insertTs\": \"2022-01-14T23:48:40\",\n    \"updateTs\": \"2022-01-14T23:48:40\",\n    \"status\": \"provisioning\",\n    \"requestData\": {\n      \"firstName\": \"Sam\",\n      \"lastName\": \"Smith\",\n      \"email\": \"sam@abcinc.com\",\n      \"roles\": [\n        \"ROLE_MSP_ADMIN\"\n      ]\n    }\n  }\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={" Create  User -  Success -  Account  Manager  Managing  All  Accounts"} value={" Create  User -  Success -  Account  Manager  Managing  All  Accounts"}><ResponseSamples responseExample={"{\n  \"data\": {\n    \"id\": \"583E575B-4657-40A4-B63A-9F85E3AFCC58\",\n    \"insertTs\": \"2022-01-14T23:48:40\",\n    \"updateTs\": \"2022-01-14T23:48:40\",\n    \"status\": \"provisioning\",\n    \"requestData\": {\n      \"firstName\": \"Sam\",\n      \"lastName\": \"Smith\",\n      \"email\": \"sam@abcinc.com\",\n      \"roles\": [\n        \"ROLE_ACCOUNT_MANAGER\"\n      ],\n      \"managedAccounts\": [\n        \"*\"\n      ]\n    }\n  }\n}"} language={"json"}></ResponseSamples></TabItem><TabItem label={"Example"} value={"Example"}><ResponseSamples responseExample={"{\n  \"data\": {\n    \"id\": \"583E575B-4657-40A4-B63A-9F85E3AFCC58\",\n    \"insertTs\": \"2022-01-14T23:48:40\",\n    \"updateTs\": \"2022-01-14T23:48:40\",\n    \"status\": \"provisioning\",\n    \"requestData\": {\n      \"firstName\": \"Sam\",\n      \"lastName\": \"Smith\",\n      \"email\": \"sam@abcinc.com\",\n      \"roles\": [\n        \"ROLE_MSP_ADMIN\"\n      ]\n    }\n  }\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div>
      